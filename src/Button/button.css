/*
 * Copyright (c) 2017-2019 dunnhumby Germany GmbH.
 * All rights reserved.
 *
 * This source code is licensed under the MIT license found in the LICENSE file
 * in the root directory of this source tree.
 *
 */

@import "../proto/base.css";

.default {
  appearance: none !important;

  position: relative;
  display: table; /* flex doesn’t work here */

  width: auto;
  height: auto;

  padding: 0;

  border: none;
  border-radius: 2px;

  background: transparent;
  cursor: pointer;

  @extend %Nessie-Bold;

  .content {
    /* Firefox doesn’t properly support flex directly
         * on button so we need to set it here
         */
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    height: 40px;
    padding: 0 var(--spacing-2);
    text-align: center;
  }

  .label {
    font-size: var(--typo-3);
    line-height: var(--line-height-s);
    letter-spacing: 0.5px;

    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .icon {
    width: calc(var(--spacing-3) - 4px);
    height: calc(var(--spacing-3) - 4px);
  }

  &.variant__icon {
    padding: 0 var(--spacing-1);
    .icon {
      margin: 0;
    }
  }

  .loadingOverlay {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;

    position: absolute;

    top: 0;
    bottom: 0;

    left: 0;
    right: 0;

    width: 100%;
    height: 100%;
  }
}

.iconPosition__right {
  .content {
    flex-direction: row-reverse;
  }

  .icon {
    margin-left: calc(var(--spacing-1) / 2); /* space between icon and text */
    margin-right: calc(-1 * var(--spacing-1)); /* half of content padding */
  }
}

.iconPosition__left {
  .icon {
    margin-right: calc(var(--spacing-1) / 2); /* space between icon and text */
    margin-left: calc(-1 * var(--spacing-1)); /* half of content padding */
  }
}

.role__primary {
  &.variant__filled {
    background: var(--PC-GREY);
    color: var(--PC-WHITE);

    &:hover {
      background: var(--PC-GREY--L10);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-GREY) a(30%));
    }
  }
  &.variant__outlined {
    background: var(--PC-WHITE);
    color: var(--PC-GREY);
    border: 2px solid var(--PC-GREY);

    &:hover {
      background: var(--PC-GREY);
      color: var(--PC-WHITE);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-GREY) a(30%));
    }
  }
  &.variant__clear {
    background: transparent;
    color: var(--PC-GREY);

    &:hover {
      color: var(--PC-GREY--L10);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-GREY) a(30%));
    }
  }
  &.variant__icon {
    background: transparent;
    color: var(--PC-GREY);

    &:hover {
      background: var(--PC-GREY);
      color: var(--PC-WHITE);
    }

    &:focus {
      background: transparent;
      color: var(--PC-GREY);
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-GREY) a(30%));
    }
  }
}

.role__danger {
  &.variant__filled {
    background: var(--PC-RED);
    color: var(--PC-WHITE);

    &:hover {
      background: var(--PC-RED--L10);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-RED) a(30%));
    }
  }
  &.variant__outlined {
    background: var(--PC-WHITE);
    color: var(--PC-RED);
    border: 2px solid var(--PC-RED);

    &:hover {
      background: var(--PC-RED);
      color: var(--PC-WHITE);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-RED) a(30%));
    }
  }
  &.variant__clear {
    background: transparent;
    color: var(--PC-RED);

    &:hover {
      color: var(--PC-RED--L10);
      text-decoration: underline;
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-RED) a(30%));
    }
  }
  &.variant__icon {
    background: transparent;
    color: var(--PC-RED);

    &:hover {
      background: var(--PC-RED);
      color: var(--PC-WHITE);
    }

    &:focus {
      background: transparent;
      color: var(--PC-RED);
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-RED) a(30%));
    }
  }
}

.role__success {
  &.variant__filled {
    background: var(--PC-GREEN);
    color: var(--PC-WHITE);

    &:hover {
      background: var(--PC-GREEN--L10);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-GREEN) a(30%));
    }
  }
  &.variant__outlined {
    background: var(--PC-WHITE);
    color: var(--PC-GREEN);
    border: 2px solid var(--PC-GREEN);

    &:hover {
      background: var(--PC-GREEN);
      color: var(--PC-WHITE);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-GREEN) a(30%));
    }
  }
  &.variant__clear {
    background: transparent;
    color: var(--PC-GREEN);

    &:hover {
      color: var(--PC-GREEN--L10);
      text-decoration: underline;
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-GREEN) a(30%));
    }
  }
  &.variant__icon {
    background: transparent;
    color: var(--PC-GREEN);

    &:hover {
      background: var(--PC-GREEN);
      color: var(--PC-WHITE);
    }

    &:focus {
      background: transparent;
      color: var(--PC-GREEN);
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-GREEN) a(30%));
    }
  }
}

.role__info {
  &.variant__filled {
    background: var(--PC-BLUE);
    color: var(--PC-WHITE);

    &:hover {
      background: var(--PC-BLUE--D25);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-BLUE) a(30%));
    }
  }
  &.variant__outlined {
    background: var(--PC-WHITE);
    color: var(--PC-BLUE);
    border: 2px solid var(--PC-BLUE);

    &:hover {
      background: var(--PC-BLUE);
      color: var(--PC-WHITE);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-BLUE) a(30%));
    }
  }
  &.variant__clear {
    background: transparent;
    color: var(--PC-BLUE);

    &:hover {
      color: var(--PC-BLUE--D25);
      text-decoration: underline;
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-BLUE) a(30%));
    }
  }
  &.variant__icon {
    background: transparent;
    color: var(--PC-BLUE);

    &:hover {
      background: var(--PC-BLUE);
      color: var(--PC-WHITE);
    }

    &:focus {
      background: transparent;
      color: var(--PC-BLUE);
      outline: none;
      box-shadow: 0 0 0 2px color(var(--PC-BLUE) a(30%));
    }
  }
}

.size__S {
  height: calc(var(--spacing-3) + 4px);
  padding: 0 calc(var(--spacing-2) - 4px);

  .label {
    font: var(--Caption-2);
  }

  .icon {
    width: var(--spacing-2);
    height: var(--spacing-2);
  }
  &.variant__icon {
    padding: 0 calc(var(--spacing-1) - 2px);
  }
}

.size__L {
  height: var(--spacing-6);
  padding: 0 var(--spacing-4);

  .label {
    font: var(--Body-2);
  }

  .icon {
    width: var(--spacing-3);
    height: var(--spacing-3);
  }
  &.variant__icon {
    padding: 0 calc(var(--spacing-2) - 4px);
  }
}

.loading,
.disabled {
  cursor: default;
  pointer-events: none;
}

.loading {
  .content {
    opacity: 0;
  }
}

.disabled {
  &.role__primary {
    &.variant__filled {
      background: var(--PC-GREY--L50);
    }
    &.variant__outlined {
      color: var(--PC-GREY--L50);
      border-color: var(--PC-GREY--L50);
    }
    &.variant__clear,
    &.variant__icon {
      color: var(--PC-GREY--L50);
    }
  }

  &.role__danger {
    &.variant__filled {
      background: var(--PC-RED--L50);
    }

    &.variant__outlined {
      color: var(--PC-RED--L50);
      border-color: var(--PC-RED--L50);
    }
    &.variant__clear,
    &.variant__icon {
      color: var(--PC-RED--L50);
    }
  }

  &.role__success {
    &.variant__filled {
      background: var(--PC-GREEN--L50);
    }

    &.variant__outlined {
      color: var(--PC-GREEN--L50);
      border-color: var(--PC-GREEN--L50);
    }
    &.variant__clear,
    &.variant__icon {
      color: var(--PC-GREEN--L50);
    }
  }
  &.role__info {
    &.variant__filled {
      background: var(--PC-BLUE--L50);
    }

    &.variant__outlined {
      color: var(--PC-BLUE--L50);
      border-color: var(--PC-BLUE--L50);
    }
    &.variant__clear,
    &.variant__icon {
      color: var(--PC-BLUE--L50);
    }
  }
}
